## Отчет по лабораторной работе №2
## по курсу "Логическое программирование"

## Решение логических задач

### студент: Саженов К.С.

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|              |      4-?      |

> *Комментарии проверяющих (обратите внимание, что более подробные комментарии возможны непосредственно в репозитории по тексту программы)*
Добавьте в отчете полный предикат, запрос и ответ к задаче. Сейчас ответ выглядит странно... 

## Введение

"Решить задачу" на языке логике означает найти истинное высказывание, которое отвечает на вопрос задачи. Способов к решению таких задач довольно много, например, метод рассуждений, метод таблиц или метод алгебры логики.

Метод рассуждений применяется на практике только для простых и детских задач. Его идея состоит в том, чтобы методами рассуждений и общих человеческих знаний, проводится логическая цепочка от одной идеи к другой, последовательно используя все условия задачи. Гораздо больше с серьезными логическими задачами работает метод таблиц. В таблице можно наглядно пронаблюдать условия задачи и вывести ее ответ методом рассуждений с некоторым упрощением. Наиболее часто для сложных логических задач используют средства алгебры логики. Для решения данным методом, следует переписать исходные выражения и высказывания в виде какого-либо набора выражений алгебры логики и вывести из данного выражения ответ.

Помимо основных методов, существуют и другие, менее используемые методы.
Например, графический, блок-схем и другие.

Prolog является удобным инструментом для решения логических задач, поскольку является декларативным языком программирования, из чего следует, что на нем можно задать объекты, условия и связи между ними, а затем, используя средства логического языка программирования, просто "попросить" решить задачу, исходя из заданных предикатов.

## Задание

Тренер команды пятиборцев решил устроить для своих воспитанников отборочные соревнования. В программу состязаний он включил все пять видов спорта: плавание, кросс, фехтование, стрельбу и верховую езду. В итоге соревнований по сумме набранных баллов на первое место вышел Ачкасов, затем шли Боровский, Колоколов, Дикушин и на последнем месте оказался Емельянов. Система оценки результатов была такая: занявший первое место в состязании по тому или другому виду спорта получал 5 баллов, следующий за ним 4 балла и т.д. Ачкасов закончил соревнования, набрав 24 балла. Колоколов получил по четырем видам спорта одинаковые баллы. Емельянов завоевал первенство в соревнованиях по стрельбе, а по верховой езде вышел на третье место. Какое место на соревнованиях по стрельбе занял Боровский? 

## Принцип решения

Прежде всего, стоит перебрать все варианты распределения очков по людям:

```prolog
permutation([5,4,3,2,1],[P1,P2,P3,P4,P5]),
permutation([5,4,3,2,1],[C1,C2,C3,C4,C5]),
permutation([5,4,3,2,1],[F1,F2,F3,F4,F5]),
permutation([5,4,3,2,1],[S1,S2,S3,S4,S5]),
permutation([5,4,3,2,1],[V1,V2,V3,V4,V5]),
```
> P - первый вид спорта, C - второй, и т.д....

Затем, стоит указать, что у Колоколова есть 4 одинаковых числа, но мы не знаем какие именно:
```prolog
permutation([_,B,B,B,B],[P3,C3,F3,S3,V3]),
```
Затем сделаем проверку на места в отдельных видах спорта Емельянова:
```prolog
S5 =:= 6 - 1,
V5 =:= 6 - 3,
```
И удостоверимся, что сумма очков Ачкасова равнялась 24:
```prolog
Sc1 is P1 + C1 + F1 + S1 + V1,
Sc1 = 24,
```

Затем идут проверки на места(у 1 меньше очков, чем у 2 и т.д.):
```prolog
P2+C2+F2+S2+V2<P1+C1+F1+S1+V1,
P3+C3+F3+S3+V3<P2+C2+F2+S2+V2,
P4+C4+F4+S4+V4<P3+C3+F3+S3+V3,
P5+C5+F5+S5+V5<P4+C4+F4+S4+V4,
```

И, наконец, ответ:
```prolog
!,
X is 6- S2.
```

Т.к. в данной программе просиходит полный перебор, ее сложность будет `O(n!)`

Полный предикат:
```prolog
solve(X):-
    permutation([5,4,3,2,1],[P1,P2,P3,P4,P5]),
    permutation([5,4,3,2,1],[C1,C2,C3,C4,C5]),
    permutation([5,4,3,2,1],[F1,F2,F3,F4,F5]),
    permutation([5,4,3,2,1],[S1,S2,S3,S4,S5]),
    permutation([5,4,3,2,1],[V1,V2,V3,V4,V5]),

    permutation([_,B,B,B,B],[P3,C3,F3,S3,V3]),

    S5 =:= 6 - 1,
    V5 =:= 6 - 3,
    Sc1 is P1 + C1 + F1 + S1 + V1,
    Sc1 = 24,
    P2+C2+F2+S2+V2<P1+C1+F1+S1+V1,
    P3+C3+F3+S3+V3<P2+C2+F2+S2+V2,
    P4+C4+F4+S4+V4<P3+C3+F3+S3+V3,
    P5+C5+F5+S5+V5<P4+C4+F4+S4+V4,
    !,
    X is 6- S2.
```

Ответ(Боровский занял 5-е место):
```prolog
?- solve(X).
X = 5.
```


## Выводы

Благодаря данной лабораторной работе я научился решать логические задачи с помощью логически-декларативного языка Prolog и смог реализовать вывод решения, основываясь на условиях данной задачи. Также ознакомился с различными методами решения логических задач и их сложностями.

Результатом работы программы является непротиворечивое единственно верное решение, при котором соблюдены все условия задачи.

Prolog является удобным и мощным инструментом для решения сложных логических задач. В Prolog встроена функция выводимости высказываний, что означает, что, используя данный язык, можно даже составить новую теорему или лемму, основываясь лишь на тех данных, что у человека уже имеется. С практической же точки зрения Prolog является удобным инструментом лишь для сложных и/или трудоемких логических задач. Для других - менее затратных - следует использовать другие более простые методы.


